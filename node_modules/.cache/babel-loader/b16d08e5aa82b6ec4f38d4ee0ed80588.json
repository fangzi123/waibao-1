{"remainingRequest":"D:\\vant\\vueUI\\waibao\\waibao\\node_modules\\thread-loader\\dist\\cjs.js!D:\\vant\\vueUI\\waibao\\waibao\\node_modules\\babel-loader\\lib\\index.js!D:\\vant\\vueUI\\waibao\\waibao\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vant\\vueUI\\waibao\\waibao\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vant\\vueUI\\waibao\\waibao\\src\\views\\itemlist.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vant\\vueUI\\waibao\\waibao\\src\\views\\itemlist.vue","mtime":1542265980554},{"path":"D:\\vant\\vueUI\\waibao\\waibao\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1536746400741},{"path":"D:\\vant\\vueUI\\waibao\\waibao\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vant\\vueUI\\waibao\\waibao\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\vant\\vueUI\\waibao\\waibao\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1536746400741},{"path":"D:\\vant\\vueUI\\waibao\\waibao\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// @ is an alias to /src\nimport { Loading, Actionsheet, Toast } from 'vant';\nimport { get, post } from '../../src/util/http.js';\n\nrequire('../../src/util/cookie.js');\n\nexport default {\n  name: 'cjset',\n  components: {\n    Loading: Loading,\n    Actionsheet: Actionsheet,\n    Toast: Toast\n  },\n  data: function data() {\n    return {\n      deviceId: '',\n      loading: true,\n      items: [],\n      show: false,\n      actions: [],\n      loadState: 0,\n      // 1可以加载 2加载中 3没有跟多 4加载失败\n      pageNum: 1,\n      pageSize: 10,\n      openId: Cookies.get('openId') ? Cookies.get('openId') : '',\n      editData: {},\n      // 待编辑数据\n      admin: ''\n    };\n  },\n  methods: {\n    onSelect: function onSelect(item) {\n      this.show = false;\n\n      if (!this.openId) {\n        return;\n      }\n\n      if (item.type == 'delete') {\n        // 删除\n        this.loading = true;\n        this.delete();\n      } else if (item.type == 'move') {\n        // 转让\n        this.loading = true;\n        this.move();\n      } else if (item.type == 'allow') {\n        // 批准\n        this.loading = true;\n        this.allow();\n      } else if (item.type == 'reject') {\n        // 驳回\n        this.loading = true;\n        this.reject();\n      }\n    },\n    reload: function reload() {\n      this.getData();\n    },\n    delete: function _delete() {\n      var _this = this;\n\n      get('/device/memberDelete', {\n        member_wxUserDeviceId: this.editData.member_wxUserDeviceId,\n        openId: this.openId\n      }).then(function (res) {\n        if (res.code == 10000) {\n          Toast('删除成功');\n          var id = _this.editData.member_wxUserDeviceId;\n          var _list = _this.items;\n\n          for (var i = 0; i < _list.length; i++) {\n            if (_list[i].member_wxUserDeviceId == id) {\n              _list.splice(i, 1);\n\n              break;\n            }\n          }\n\n          _this.loading = false;\n          _this.items = _list;\n        } else {\n          Toast('删除失败');\n          _this.loading = false;\n        }\n      }).catch(function (e) {\n        _this.loading = false;\n        Toast('删除失败');\n        console.log(e);\n      });\n    },\n    move: function move(item) {\n      var _this2 = this;\n\n      get('/device/adminTransfer', {\n        deviceId: this.editData.member_deviceId,\n        fromOpenId: this.openId,\n        toOpenId: this.editData.member_openId\n      }).then(function (res) {\n        if (res.code == 10000) {\n          _this2.loading = false;\n          Toast('转移成功');\n          _this2.loading = false;\n          _this2.pageNum = 1;\n\n          _this2.getData();\n\n          _this2.items = [];\n        } else {\n          Toast('转移失败');\n          _this2.loading = false;\n        }\n      }).catch(function (e) {\n        Toast('转移失败');\n        _this2.loading = false;\n        console.log(e);\n      });\n    },\n    allow: function allow() {\n      var _this3 = this;\n\n      // http://live-smart.com.cn/device/checkApproved       GET\n      // 入参：\n      // wxUserDeviceId    成员设备绑定ID\n      get('/device/checkApproved', {\n        wxUserDeviceId: this.editData.member_wxUserDeviceId\n      }).then(function (res) {\n        if (res.code == 10000) {\n          _this3.loading = false;\n          Toast('审核成功');\n          _this3.loading = false;\n          var id = _this3.editData.member_wxUserDeviceId;\n\n          _this3.items.forEach(function (item, index) {\n            if (item.member_wxUserDeviceId == id) {\n              item.member_checkStatus = 1;\n            }\n          });\n        } else {\n          Toast('审核失败');\n          _this3.loading = false;\n        }\n      }).catch(function (e) {\n        Toast('审核失败');\n        _this3.loading = false;\n      });\n    },\n    reject: function reject() {\n      var _this4 = this;\n\n      // http://live-smart.com.cn/device/checkUnapprove    GET\n      // 入参：\n      // wxUserDeviceId    成员设备绑定ID\n      get('/device/checkUnapprove', {\n        wxUserDeviceId: this.editData.member_wxUserDeviceId\n      }).then(function (res) {\n        if (res.code == 10000) {\n          _this4.loading = false;\n          Toast('驳回成功');\n          _this4.loading = false;\n          _this4.pageNum = 1;\n\n          _this4.getData();\n\n          _this4.items = [];\n        } else {\n          Toast('驳回失败');\n          _this4.loading = false;\n        }\n      }).catch(function (e) {\n        Toast('驳回失败');\n        _this4.loading = false;\n      });\n    },\n    loadMore: function loadMore() {\n      this.loading = true;\n      var pageNum = this.pageNum;\n      pageNum++;\n      this.pageNum = pageNum;\n      this.loadState = 2;\n      this.getData();\n    },\n    getData: function getData() {\n      var _this5 = this;\n\n      get('/device/memberList', {\n        wxUserDeviceId: this.deviceId,\n        pageNum: this.pageNum,\n        pageSize: this.pageSize\n      }).then(function (res) {\n        if (res.code == 10000) {\n          _this5.loading = false;\n\n          if (_this5.pageNum == 1) {\n            _this5.admin = res.data.list[0].member_openId;\n          }\n\n          _this5.items = _this5.items.concat(res.data.list);\n          _this5.loadState = _this5.pageNum * _this5.pageSize >= res.data.total ? 3 : 1;\n        } else if (res.code == 30000) {\n          // 没有权限 回到上一页\n          _this5.$router.go(-1);\n        }\n      }).catch(function (e) {\n        _this5.loadState = 4;\n        _this5.loading = false;\n\n        _this5.$router.go(-1);\n\n        console.log(e);\n      });\n    },\n    edit: function edit(item) {\n      console.log(item);\n      var data = [];\n\n      if (item.member_checkStatus == 1) {\n        data = [{\n          name: '删除',\n          type: 'delete'\n        }, {\n          name: '转让',\n          type: 'move'\n        }];\n      } else if (item.member_checkStatus == 0) {\n        data = [{\n          name: '删除',\n          type: 'delete'\n        }, {\n          name: '批准',\n          type: 'allow'\n        }, {\n          name: '驳回',\n          type: 'reject'\n        }];\n      }\n\n      this.actions = data;\n      console.log(data, '---------------------');\n      this.editData = item;\n      this.show = true;\n    }\n  },\n  mounted: function mounted() {\n    this.deviceId = this.$route.params.id;\n    this.getData();\n  }\n};",{"version":3,"sources":["itemlist.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"item_list\">\n    <p class=\"title\">成员列表</p>\n    <div class=\"list\">\n      <ul>\n        <li class=\"item\" v-for=\"(item,index) in items\" v-bind:key=\"index\">\n          <p class=\"\">\n            <!-- <span class=\"label\">设置</span> -->\n            <img v-bind:src=\"item.member_headimgurl\" alt=\"\" class=\"label cov\" style=\"margin-right:5px;\">\n            <span class=\"label\">{{item.member_nickname}}</span>\n            <span class=\"fontFamily hht-shezhi1 label fr\" v-on:click=\"edit(item)\" v-if=\"item.type==2 && admin===openId\"></span>\n            <span class=\"fontFamily hht-guanliyuan Administrator label fr\" v-else-if=\"item.type==1\"></span>\n          </p>\n          <!-- <p class=\"\">\n            <span class=\"label\">头像：</span>\n            <span class=\"label fr cov\" v-bind:style=\"background\"></span>\n            <img v-bind:src=\"item.member_headimgurl\" alt=\"\" class=\"label fr cov\">\n          </p> -->\n          <!-- <p class=\"\">\n            <span class=\"label\">昵称：</span>\n            \n          </p> -->\n          <!-- <p class=\"\">\n            <span class=\"label\">性别：</span>\n            <span class=\"label fr\">{{item.member_sex==1?'男':'女'}}</span>\n          </p> -->\n          <p class=\"\">\n            <span class=\"label\">审核状态：</span>\n            <span class=\"label fr\">{{item.member_checkStatus==1?'审核通过':'待审核'}}</span>\n          </p>\n        </li>\n      </ul>\n      <p class=\"hint\" v-if=\"loadState==2\" >加载中...</p>\n      <p class=\"hint\" v-if=\"loadState==1\" v-on:click=\"loadMore\">点击加载更多</p>\n      <p class=\"hint\" v-if=\"loadState==3\">没有更多</p>\n      <p class=\"hint\" v-if=\"loadState==4\" v-on:click=\"reload\">加载失败，点击重新加载</p>\n    </div>\n\n    <div class=\"load\" v-if=\"loading\">\n      <van-loading color=\"#c1c1c1\" size=\"40px\"/>\n    </div>\n    <div class=\"actionsheet\">\n      <van-actionsheet\n        v-model=\"show\"\n        :actions=\"actions\"\n        @select=\"onSelect\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport {Loading,Actionsheet,Toast} from 'vant';\nimport {get,post} from '../../src/util/http.js'\nrequire('../../src/util/cookie.js')\n\nexport default {\n  name: 'cjset',\n  components: {\n    Loading,\n    Actionsheet,\n    Toast\n  },\n  data(){\n    return {\n      deviceId:'',\n      loading:true,\n      items:[],\n      show:false,\n      actions:[],\n      loadState:0 ,// 1可以加载 2加载中 3没有跟多 4加载失败\n      pageNum:1,\n      pageSize:10,\n      openId:Cookies.get('openId')?Cookies.get('openId'):'',\n      editData:{} ,// 待编辑数据\n      admin:''\n    }\n  },\n  methods:{\n    onSelect(item){\n      this.show = false;\n      if(!this.openId){\n        return\n      }\n      if(item.type=='delete'){\n        // 删除\n        this.loading=true\n        this.delete()\n      }else if(item.type=='move'){\n        // 转让\n        this.loading=true\n        this.move()\n\n      }else if(item.type=='allow'){\n        // 批准\n        this.loading=true\n        this.allow()\n\n      }else if(item.type=='reject'){\n        // 驳回\n        this.loading=true\n        this.reject()\n\n      }\n    },\n    reload(){\n      this.getData()\n    },\n\n    delete(){\n      get('/device/memberDelete',{member_wxUserDeviceId :this.editData.member_wxUserDeviceId,openId:this.openId}).then((res)=>{\n        if(res.code==10000){\n         Toast('删除成功')\n          var id=this.editData.member_wxUserDeviceId\n          var _list=this.items\n          for(var i=0;i<_list.length;i++){\n            if(_list[i].member_wxUserDeviceId==id){\n              _list.splice(i,1)\n              break\n            }\n          }\n          this.loading=false\n          this.items=_list\n        }else {\n          Toast('删除失败')\n          this.loading=false\n        }\n      }).catch((e)=>{\n          this.loading=false\n          Toast('删除失败')\n          console.log(e)\n      })\n    },\n    move(item){\n      get('/device/adminTransfer',{deviceId :this.editData.member_deviceId,fromOpenId:this.openId,toOpenId:this.editData.member_openId}).then((res)=>{\n        if(res.code==10000){\n          this.loading=false\n          Toast('转移成功')\n          this.loading=false\n          this.pageNum=1;\n          this.getData()\n          this.items=[]\n        }else {\n          Toast('转移失败')\n          this.loading=false\n        }\n      }).catch((e)=>{\n        Toast('转移失败')\n        this.loading=false\n        console.log(e)\n      })\n    },\n\n    allow(){\n      // http://live-smart.com.cn/device/checkApproved       GET\n      // 入参：\n      // wxUserDeviceId    成员设备绑定ID\n      get('/device/checkApproved',{wxUserDeviceId:this.editData.member_wxUserDeviceId}).then((res)=>{\n        if(res.code==10000){\n          this.loading=false\n          Toast('审核成功')\n          this.loading=false\n          let id=this.editData.member_wxUserDeviceId\n          this.items.forEach((item,index)=>{\n            if(item.member_wxUserDeviceId==id){\n                item.member_checkStatus=1\n            }\n          })\n         \n        }else {\n          Toast('审核失败')\n          this.loading=false\n        }\n      }).catch((e)=>{\n        Toast('审核失败')\n        this.loading=false\n      })\n    },\n    reject(){\n      // http://live-smart.com.cn/device/checkUnapprove    GET\n      // 入参：\n      // wxUserDeviceId    成员设备绑定ID\n      get('/device/checkUnapprove',{wxUserDeviceId:this.editData.member_wxUserDeviceId}).then((res)=>{\n        if(res.code==10000){\n          this.loading=false\n          Toast('驳回成功')\n          this.loading=false\n          this.pageNum=1;\n          this.getData()\n          this.items=[]\n        }else {\n          Toast('驳回失败')\n          this.loading=false\n        }\n      }).catch((e)=>{\n        Toast('驳回失败')\n        this.loading=false\n      })\n    },\n    loadMore(){\n      this.loading=true\n      let pageNum=this.pageNum\n      pageNum++\n      this.pageNum=pageNum;\n      this.loadState=2\n      this.getData()\n    },\n    getData(){\n      get('/device/memberList',{wxUserDeviceId:this.deviceId,pageNum:this.pageNum,pageSize:this.pageSize}).then((res)=>{\n        if(res.code==10000){\n         this.loading=false\n         if(this.pageNum==1){\n           this.admin=res.data.list[0].member_openId\n         }\n         this.items= this.items.concat(res.data.list)\n         this.loadState= (this.pageNum*this.pageSize)>=res.data.total?3:1\n        }else if(res.code==30000){\n          // 没有权限 回到上一页\n          this.$router.go(-1)\n        }\n      }).catch((e)=>{\n        this.loadState=4\n        this.loading=false\n        this.$router.go(-1)\n        console.log(e)\n      })\n    },\n    edit(item){\n      console.log(item)\n      let data=[]\n      if(item.member_checkStatus==1){\n        data=[\n          {\n            name:'删除',\n            type:'delete'\n          },\n          {\n            name:'转让',\n            type:'move'\n          }\n        ]\n      }else if(item.member_checkStatus==0){\n        data=[\n          {\n            name:'删除',\n            type:'delete'\n          },\n          {\n            name:'批准',\n            type:'allow'\n          },\n          {\n            name:'驳回',\n            type:'reject'\n          }\n        ]\n      }\n      this.actions=data\n      console.log(data,'---------------------')\n      this.editData=item\n      this.show=true\n    }\n  },\n  \n  mounted(){\n    this.deviceId=this.$route.params.id\n    this.getData()\n  }\n}\n</script>\n<style scoped>\n.item_list {\n  height: 100%;\n  font-size: .4rem;\n}\n\n.load {\n  position: fixed;\n  width: 56px;\n  height: 56px;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%,-50%);\n  background: #333;\n  opacity: .8;\n  border-radius:.133rem;\n  text-align: center;\n  vertical-align: middle;\n}\n\n.load .van-loading {\n  vertical-align: middle;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%,-50%);\n}\n\n.list {\n  padding: .133rem .4rem;\n}\n.list ul {\n  margin-bottom: .4rem;\n}\n\n.item_list .list .item p{\n  height: .933rem;\n  line-height: .933rem;\n  text-align: left;\n  \n}\n\n.item_list .list ul li {\n  border-bottom: 1px solid #c6c6c6;\n  padding: .133rem 0;\n}\n\n.item_list .list ul li .fr {\n  margin-right: .133rem;\n}\n\n.item_list .list ul li .cov {\n  width: .667rem;\n  height:.667rem;\n  border-radius: 50%;\n  margin-top: .133rem;\n}\n\n.item_list .list ul li p .label:first-child {\n  margin-left: .133rem;\n}\n\n.title {\n  text-align: center;\n  font-size: .4rem;\n  padding: .4rem;\n}\n\n.hint {\n  height: 1.067rem;\n  font-size: .427rem;\n  line-height: 1.067rem;\n  background: #f1f1f1;\n  border-radius: 5px;\n  margin-bottom: 5px;\n}\n\n.Administrator {\n    color: #0087ff;\n    font-size: .5rem !important;\n    margin-right: 4px;\n}\n</style>"],"sourceRoot":"src\\views"}]}