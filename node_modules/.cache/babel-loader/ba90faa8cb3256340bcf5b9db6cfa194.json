{"remainingRequest":"D:\\vant\\vueUI\\waibao\\waibao\\node_modules\\thread-loader\\dist\\cjs.js!D:\\vant\\vueUI\\waibao\\waibao\\node_modules\\babel-loader\\lib\\index.js!D:\\vant\\vueUI\\waibao\\waibao\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vant\\vueUI\\waibao\\waibao\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vant\\vueUI\\waibao\\waibao\\src\\views\\search.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vant\\vueUI\\waibao\\waibao\\src\\views\\search.vue","mtime":1542011128994},{"path":"D:\\vant\\vueUI\\waibao\\waibao\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1536746400741},{"path":"D:\\vant\\vueUI\\waibao\\waibao\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vant\\vueUI\\waibao\\waibao\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\vant\\vueUI\\waibao\\waibao\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1536746400741},{"path":"D:\\vant\\vueUI\\waibao\\waibao\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// @ is an alias to /src\nimport { Search, Actionsheet, Dialog, Loading, Toast } from 'vant';\nimport { get, post, nyr } from '../../src/util/http.js';\nimport { debounce } from '../../src/util/util.js';\nimport { formatDatePub } from '../../src/util/util.js';\nimport ItemList from '../components/citemlist';\n\nrequire('../../src/util/cookie.js');\n\nexport default {\n  name: 'home',\n  components: {\n    Search: Search,\n    Actionsheet: Actionsheet,\n    Dialog: Dialog,\n    Loading: Loading,\n    ItemList: ItemList\n  },\n  filters: {\n    nyr: nyr\n  },\n  watch: {\n    value: function value(newVal, oldVal) {\n      this.searchByKey();\n    }\n  },\n  methods: {\n    refresh: function refresh(value) {\n      var _this = this;\n\n      var self = this;\n\n      if (!value) {\n        return;\n      }\n\n      this.loading = true;\n      get('/device/list', {\n        openId: this.openId,\n        deviceName: value\n      }).then(function (res) {\n        if (res.code == 10000) {\n          _this.items = [];\n          _this.items = res.data;\n          _this.loading = false;\n\n          try {\n            self.items.forEach(function (el, i) {\n              el.probe_type = el.probe_type == 1 ? '内置探头' : '外置探头 ';\n\n              if (el.report_parse_acquisition_time != undefined) {\n                el.time = formatDatePub(el.report_parse_acquisition_time);\n              }\n\n              if (el.report_parse_voltage != undefined && el.report_parse_voltage != '') {\n                if (el.report_parse_voltage > 3.6) {\n                  // 高\n                  el.powerL = 1;\n                } else if (el.report_parse_voltage < 3.6 && el.report_parse_voltage > 3.5) {\n                  // 中\n                  el.powerL = 2;\n                } else if (el.report_parse_voltage < 3.5 && el.report_parse_voltage > 3.45) {\n                  // 低\n                  el.powerL = 3;\n                } else {\n                  el.powerL = 4;\n                }\n              }\n            });\n          } catch (e) {\n            console.log(e);\n          }\n        }\n      }).catch(function (e) {\n        console.log(e);\n      });\n    },\n    onSelects: function onSelects() {\n      var self = this;\n\n      if (this.value == '') {\n        return;\n      }\n\n      this.refresh(this.value);\n    },\n    toPercent: function toPercent(point) {\n      var str = Number(point * 100).toFixed(1);\n      str += \"%\";\n      return str;\n    },\n    searchByKey: debounce(function () {\n      var _this2 = this;\n\n      var self = this;\n\n      if (self.value == '') {\n        return;\n      }\n\n      this.loading = true;\n      get('/device/list', {\n        openId: self.openId,\n        deviceName: self.value\n      }).then(function (res) {\n        if (res.code == 10000) {\n          self.items = [];\n          self.items = res.data;\n          _this2.loading = false;\n\n          try {\n            self.items.forEach(function (el, i) {\n              el.probe_type = el.probe_type == 1 ? '内置探头' : '外置探头 ';\n\n              if (el.report_parse_acquisition_time != undefined) {\n                el.time = formatDatePub(el.report_parse_acquisition_time);\n              }\n\n              if (el.report_parse_voltage != undefined && el.report_parse_voltage != '') {\n                if (el.report_parse_voltage > 3.6) {\n                  // 高\n                  el.powerL = 1;\n                } else if (el.report_parse_voltage < 3.6 && el.report_parse_voltage > 3.5) {\n                  // 中\n                  el.powerL = 2;\n                } else if (el.report_parse_voltage < 3.5 && el.report_parse_voltage > 3.45) {\n                  // 低\n                  el.powerL = 3;\n                } else {\n                  el.powerL = 4;\n                }\n              }\n            });\n          } catch (e) {\n            console.log(e);\n          }\n        }\n      }).catch(function (e) {\n        console.log(e);\n      });\n    }, 500)\n  },\n  data: function data() {\n    return {\n      selectId: '',\n      //当前选择的设备id\n      show: false,\n      isFirst: false,\n      value: '',\n      // 用户输入内容\n      items: [],\n      loading: false,\n      searchId: ''\n    };\n  },\n  mounted: function mounted() {\n    this.openId = Cookies.get('openId');\n\n    if (this.$route.query.id) {\n      this.value = this.$route.query.id;\n      this.refresh(this.$route.query.id);\n    }\n  }\n};",{"version":3,"sources":["search.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"search\">\n    <p class=\"title\">支持id  name</p>\n    <div class=\"search_wrap\">\n      <van-search placeholder=\"请输入搜索关键词\" v-model=\"value\" />\n    </div>\n    <div class=\"noData\">\n      <p v-if=\"items.length==0\">没有搜索到相关数据</p>\n    </div>\n    <div class=\"list_wrap\">\n      <item-list  v-on:select=\"onSelects\" v-bind:list=\"items\"></item-list>\n    </div>\n    <div class=\"load\" v-if=\"loading\">\n      <van-loading color=\"#c1c1c1\" size=\"40px\"/>\n    </div>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport { Search ,Actionsheet,Dialog,Loading,Toast} from 'vant'\nimport {get,post,nyr} from '../../src/util/http.js'\nimport {debounce} from '../../src/util/util.js'\nimport {formatDatePub} from '../../src/util/util.js'\nimport ItemList  from '../components/citemlist'\n\nrequire('../../src/util/cookie.js')\nexport default {\n  name: 'home',\n  components: {\n    Search,\n    Actionsheet ,\n    Dialog,\n    Loading,\n    ItemList\n  },\n  filters:{\n    nyr\n  },\n  watch:{\n    value:function(newVal,oldVal){\n      this.searchByKey()\n    }\n  },\n  methods:{\n    refresh(value){\n      let self=this\n      if(!value){\n        return\n      }\n        this.loading=true\n        get('/device/list',{openId:this.openId,deviceName:value}).then((res)=>{\n        if(res.code==10000){\n          this.items=[]\n          this.items=res.data\n          this.loading=false\n          try {\n            self.items.forEach((el,i)=>{\n            el.probe_type=el.probe_type==1?'内置探头':'外置探头 '\n            if(el.report_parse_acquisition_time!=undefined){\n              el.time=formatDatePub(el.report_parse_acquisition_time)\n            }\n            if(el.report_parse_voltage != undefined && el.report_parse_voltage!=''){\n              if( el.report_parse_voltage>3.6){\n                // 高\n                el.powerL=1\n              }else if(el.report_parse_voltage<3.6 && el.report_parse_voltage>3.5 ){\n                // 中\n                el.powerL=2\n              }else if(el.report_parse_voltage<3.5 && el.report_parse_voltage>3.45){\n                // 低\n                el.powerL=3\n              }else {\n                el.powerL=4\n              }\n            }\n          })\n          }catch(e){\n            console.log(e)\n          }\n          \n        }\n      }).catch((e)=>{\n        console.log(e)\n      })\n    },\n    onSelects(){\n      let self=this\n      if(this.value==''){\n        return\n      }\n      this.refresh(this.value)\n    },\n\n    toPercent(point){\n      let str=Number(point*100).toFixed(1);\n      str+=\"%\";\n      return str;\n    },\n    searchByKey:debounce(\n      function(){\n          let self=this\n          if(self.value==''){\n            return\n          }\n          this.loading=true\n          get('/device/list',{openId:self.openId,deviceName:self.value}).then((res)=>{\n          if(res.code==10000){\n            self.items=[]\n            self.items=res.data\n            this.loading=false\n            try {\n              self.items.forEach((el,i)=>{\n              el.probe_type=el.probe_type==1?'内置探头':'外置探头 '\n              if(el.report_parse_acquisition_time!=undefined){\n                el.time=formatDatePub(el.report_parse_acquisition_time)\n              }\n              if(el.report_parse_voltage != undefined && el.report_parse_voltage!=''){\n                if( el.report_parse_voltage>3.6){\n                  // 高\n                  el.powerL=1\n                }else if(el.report_parse_voltage<3.6 && el.report_parse_voltage>3.5 ){\n                  // 中\n                  el.powerL=2\n                }else if(el.report_parse_voltage<3.5 && el.report_parse_voltage>3.45){\n                  // 低\n                  el.powerL=3\n                }else {\n                  el.powerL=4\n                }\n              }\n            })\n            }catch(e){\n              console.log(e)\n            }\n            \n          }\n        }).catch((e)=>{\n          console.log(e)\n        })\n      },500)\n  },\n  data(){\n    return {\n      selectId:'',//当前选择的设备id\n      show:false,\n      isFirst:false,\n      value:'', // 用户输入内容\n      items:[],\n      loading:false,\n      searchId:''\n    }\n  },\n  mounted(){\n    this.openId=Cookies.get('openId')  \n    if(this.$route.query.id){\n      this.value=this.$route.query.id\n      this.refresh(this.$route.query.id)\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nhtml,body {\n  height: 100%;\n  \n}\n\n.c1 {\n  color: #0087ff;\n}\n\n.title {\n  text-align: center;\n  font-size: .4rem;\n  padding: .4rem;\n}\n.search {\n  min-height: 100%;\n\n}\n#app {\n  margin: 0px;\n}\n\n* {\n  margin: 0px;\n  text-align: left\n}\n\n\n.search_wrapa p{\n  text-align: left;\n  height: .8rem;\n  line-height: .8rem;\n  background: #fff;\n  font-size: .373rem;\n  color: #c6c6c6;\n  padding-left: .3rem;\n}\n\n.search_wrapa {\n  padding: .2rem;\n  background:rgb(242, 242, 242);\n}\n\n.noData p{\n  line-height: .8rem;\n  font-size: .4rem;\n  text-align: center;\n  padding: .267rem;\n}\n\n.load {\n  position: fixed;\n  width: 56px;\n  height: 56px;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%,-50%);\n  background: #333;\n  opacity: .8;\n  border-radius:.133rem;\n  text-align: center;\n  vertical-align: middle;\n}\n\n.load .van-loading {\n  vertical-align: middle;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%,-50%);\n}\n\n\n\n</style>\n\n"],"sourceRoot":"src\\views"}]}