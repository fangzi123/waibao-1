{"remainingRequest":"D:\\vant\\vueUI\\waibao\\waibao\\node_modules\\thread-loader\\dist\\cjs.js!D:\\vant\\vueUI\\waibao\\waibao\\node_modules\\babel-loader\\lib\\index.js!D:\\vant\\vueUI\\waibao\\waibao\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vant\\vueUI\\waibao\\waibao\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vant\\vueUI\\waibao\\waibao\\src\\views\\details.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vant\\vueUI\\waibao\\waibao\\src\\views\\details.vue","mtime":1542608505717},{"path":"D:\\vant\\vueUI\\waibao\\waibao\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1536746400741},{"path":"D:\\vant\\vueUI\\waibao\\waibao\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\vant\\vueUI\\waibao\\waibao\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\vant\\vueUI\\waibao\\waibao\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1536746400741},{"path":"D:\\vant\\vueUI\\waibao\\waibao\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// @ is an alias to /src\nimport { Dialog, Loading, Toast } from 'vant';\nimport { get, post } from '../../src/util/http.js';\nexport default {\n  name: 'xq',\n  components: {\n    Dialog: Dialog\n  },\n  methods: {\n    deleteSb: function deleteSb() {\n      var _this = this;\n\n      Dialog.confirm({\n        title: '确定删除?',\n        message: '删除后将不在展示该设备'\n      }).then(function () {\n        _this.loading = true; // on confirm\n\n        get('/device/deleleDevice', {\n          wxUserDeviceId: _this.deviceId\n        }).then(function (res) {\n          if (res.code == 10000) {\n            _this.loading = false;\n            Toast('老板，再见...');\n\n            _this.$router.back();\n          } else {\n            _this.loading = false;\n            Toast('哈哈，没珊掉我..');\n          }\n        }).catch(function (e) {\n          _this.loading = false;\n          Toast('哈哈，没珊掉我..');\n          console.log(e);\n        });\n      }).catch(function () {\n        // on cancel\n        Toast('谢手下留情...');\n      });\n    },\n    edit: function edit() {\n      this.show = true;\n    },\n    beforeClose: function beforeClose(action, done) {\n      // console.log(arguments,'-----------')\n      console.log('----------');\n\n      if (action == 'confirm') {\n        // setTimeout(done,1000)\n        this.editorName(done);\n      } else {\n        this.editname = '';\n        done();\n      }\n    },\n    onConfirm: function onConfirm() {// console.log(e)\n    },\n    qrcode: function qrcode() {\n      this.qcshow = true;\n    },\n    hideqe: function hideqe() {\n      this.qcshow = false;\n    },\n    getData: function getData() {\n      var _this2 = this;\n\n      get('/device/view', {\n        wxUserDeviceId: this.deviceId\n      }).then(function (res) {\n        if (res.code == 10000) {\n          _this2.info = res.data;\n        }\n      }).catch(function (e) {\n        console.log(e);\n      });\n    },\n    editorName: function editorName(done) {\n      var _this3 = this;\n\n      var cb = done || function () {};\n\n      if (this.editname == '') {\n        cb(false);\n        return;\n      }\n\n      post('/device/update', {\n        name: this.editname,\n        deviceId: this.info.device_id\n      }).then(function (res) {\n        _this3.info.name = _this3.editname;\n        _this3.editname = \"\";\n        cb();\n      }).catch(function (e) {\n        console.log(e, '------------');\n      });\n    }\n  },\n  data: function data() {\n    return {\n      params: this.$route.params,\n      show: false,\n      currentname: '当前设备名称',\n      editname: '',\n      qcshow: false,\n      // 二维码显示隐藏\n      info: {},\n      loading: false\n    };\n  },\n  mounted: function mounted() {\n    this.deviceId = this.params.id;\n    this.getData();\n    console.log(this.params.id, '-----------params');\n  }\n};",{"version":3,"sources":["details.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"details\">\n    <!-- <p class=\"title\">设备详情</p> -->\n    <ul class=\"wrap\">\n      <li class=\"li\">\n        <span>设备ID：</span>\n        <span class=\"fr\">{{info.device_id}}</span>\n      </li>\n      <li class=\"li\" v-on:click=\"edit\">\n        <span>设备名称：</span>\n        <span class=\"fr h80\">{{info.name}} <span class=\"fontFamily hht-xiugai-copy aling\"></span></span>\n      </li>\n      <li class=\"li\">\n        <span>MAC地址：</span>\n        <span class=\"fr\">{{info.mac_address}}</span>\n      </li>\n      <li class=\"li\">\n        <span>固件版本：</span>\n        <span class=\"fr\">{{info.report_parse_version}}</span>\n      </li>\n      <li class=\"li\">\n        <span>设备类型：</span>\n        <span class=\"fr\">{{info.report_parse_version_high}}</span>\n      </li>\n      <li class=\"li\" v-on:click=\"qrcode\">\n        <span>二维码：</span>\n        <span class=\"fr fontFamily hht-QRcode\"></span>\n      </li>\n      <li class=\"li\" v-on:click=\"deleteSb\">\n        <span>删除设备：</span>\n        <span class=\"fr fontFamily hht-shanchu\"></span>\n      </li>\n    </ul>\n    <!-- 弹出修改框 -->\n    <div class=\"dialog\">\n      <van-dialog\n        v-model=\"show\"\n        show-cancel-button\n        :before-close=\"beforeClose\"\n        :title=\"'修改设备名称'\"\n        @confirm=\"onConfirm\"\n      >\n        <van-field\n          v-model=\"editname\"\n          label=\"新名称：\"\n          placeholder=\"请输入要修改的名称\"\n        />\n      </van-dialog>\n    </div>\n    <!-- 二维码 -->\n    <transition name=\"fade\">\n      <div class=\"qc\" v-if=\"qcshow\" v-on:click=\"hideqe\">\n        <div class=\"img_wrap\">\n          <img v-bind:src=\"info.qr_code\" alt=\"\"/>\n        </div>\n      </div>\n    </transition>\n    <div class=\"\" style=\"display:none\">\n      <img v-bind:src=\"info.qr_code\" alt=\"\"/>\n    </div>\n    <div class=\"load\" v-if=\"loading\">\n      <van-loading color=\"#c1c1c1\" size=\"40px\"/>\n    </div>\n  </div>\n</template>\n\n<script>\n// @ is an alias to /src\nimport { Dialog ,Loading ,Toast} from 'vant'\nimport {get,post} from '../../src/util/http.js'\n\nexport default {\n  name: 'xq',\n  components: {\n   Dialog\n  },\n  methods:{\n    deleteSb(){\n      Dialog.confirm({\n        title: '确定删除?',\n        message: '删除后将不在展示该设备'\n      }).then(() => {\n        this.loading=true\n        // on confirm\n        get('/device/deleleDevice',{wxUserDeviceId:this.deviceId}).then((res)=>{\n          if(res.code==10000){\n            this.loading=false\n            Toast('老板，再见...')\n            this.$router.back()\n          }else {\n            this.loading=false\n            Toast('哈哈，没珊掉我..')\n          }\n        }).catch((e)=>{\n          this.loading=false\n          Toast('哈哈，没珊掉我..')\n          console.log(e)\n        })\n      }).catch(() => {\n        // on cancel\n        Toast('谢手下留情...')\n      });\n    },\n    edit(){\n      this.show=true\n    },\n    beforeClose(action, done){\n      // console.log(arguments,'-----------')\n      console.log('----------')\n      if(action=='confirm'){\n       \n        // setTimeout(done,1000)\n        this.editorName(done)\n      }else {\n        this.editname=''\n        done()\n      }\n    },\n    onConfirm(){\n      // console.log(e)\n    },\n    qrcode(){\n      this.qcshow=true\n    },\n    hideqe(){\n      this.qcshow=false\n    },\n    getData(){\n      get('/device/view',{wxUserDeviceId:this.deviceId}).then((res)=>{\n        if(res.code==10000){\n          this.info=res.data\n        }\n      \n      }).catch((e)=>{\n        console.log(e)\n      })\n    },\n    editorName(done){\n      let cb = done || function(){}\n      if(this.editname==''){\n        cb(false)\n        return\n      }\n      post('/device/update',{\n        name:this.editname,\n        deviceId:this.info.device_id\n      }).then((res)=>{\n        this.info.name=this.editname\n        this.editname=\"\"\n        cb()\n      }).catch(function(e){\n        console.log(e,'------------')\n      })\n    }\n  },\n  data(){\n    return {\n      params:this.$route.params,\n      show:false,\n      currentname:'当前设备名称',\n      editname:'',\n      qcshow:false, // 二维码显示隐藏\n      info:{},\n      loading:false\n    }\n  },\n  mounted(){\n    this.deviceId=this.params.id\n    this.getData()\n    console.log(this.params.id,'-----------params')\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n\n.details {\n  width: 100%;\n  height: 100%;\n}\n\n.details .title {\n  font-size: .4rem;\n  padding: .4rem;\n  text-align: center;\n}\n\n\n.details ul {\n  padding: .133rem .4rem .133rem .4rem;\n}\n.details ul li {\n  height: 1.333rem;\n  line-height: 1.333rem;\n  border-bottom: 1px solid #c6c6c6;\n  text-align: left;\n  font-size: .4rem;\n}\n\n.details ul li .aling {\n  vertical-align: middle;\n}\n\n.details ul li .h80 {\n  height: 80%;\n}\n\n.qc {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top:0px;\n  background: #333;\n  opacity: .8;\n}\n\n.img_wrap {\n  position: absolute;\n  width: 5.333rem;\n  height: 5.333rem;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%,-50%)\n}\n\n.img_wrap  img {\n  display: block;\n  width: 100%;\n  height: 100%;\n  border-radius: .187rem;\n}\n\n.fade-enter-active, .fade-leave-active {\n  transition: opacity .5s;\n}\n.fade-enter, .fade-leave-to {\n  opacity: 0;\n}\n\n</style>\n"],"sourceRoot":"src\\views"}]}